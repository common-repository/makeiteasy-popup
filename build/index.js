(()=>{"use strict";var e,t={331:()=>{const e=window.wp.blocks,t=window.wp.data,o={popupsAreOpen:!0},a=(0,t.createReduxStore)("makeiteasy/popups",{reducer:(e=o,t)=>"SET_POPUPS"===t.type?{...e,popupsAreOpen:t.value}:e,actions:{setPopupsOpen:e=>({type:"SET_POPUPS",value:e})},selectors:{getPopupsOpen:e=>e.popupsAreOpen}});(0,t.register)(a);const l=a,n=window.React,s=window.wp.plugins,i=window.wp.editor;var r;function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e},p.apply(this,arguments)}var u=function(e){return n.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 -960 960 960"},e),r||(r=n.createElement("path",{d:"M320-320h320v-320H320zM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120zm0-80h560v-560H200zm0-560v560z"})))};const c=window.wp.components,d=window.wp.i18n;(0,s.registerPlugin)("mie-popup-sidebar",{render:()=>{const e=(0,t.useDispatch)(l).setPopupsOpen,o=(0,t.useSelect)((e=>e(l).getPopupsOpen()));return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.PluginSidebarMoreMenuItem,{target:"mie-popup-sidebar",icon:"admin-plugins"},(0,d.__)("Show popup control","makeiteasy-popup")),(0,n.createElement)(i.PluginSidebar,{name:"mie-popup-sidebar",title:(0,d.__)("MakeITeasy popup","makeiteasy-popup"),icon:u},(0,n.createElement)(c.PanelBody,{className:"mie-popup-plugin-panel"},(0,n.createElement)(c.PanelRow,null,(0,n.createElement)(c.__experimentalText,{weight:600},(0,d.__)("Editor visibility","makeiteasy-popup"))),(0,n.createElement)(c.PanelRow,null,(0,n.createElement)(c.ToggleControl,{label:(0,d.__)("Show popups","makeiteasy-popup"),checked:o,onChange:t=>{e(t)},help:"This applies only for editor"})))))},icon:u});const m=window.wp.blockEditor;var g;function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e},h.apply(this,arguments)}var y=function(e){return n.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),g||(g=n.createElement("path",{d:"M19.546 17.954a1.127 1.127 0 0 1-1.594 1.594L12 13.594l-5.954 5.952a1.127 1.127 0 0 1-1.594-1.594L10.406 12 4.454 6.046a1.127 1.127 0 0 1 1.594-1.594L12 10.406l5.954-5.955a1.127 1.127 0 0 1 1.594 1.594L13.594 12z"})))};const b=window.wp.element,f=window.wp.hooks,v=e=>{const{innerBlocks:t,hasCloseButton:o,isModal:a,isFixed:l,closeButtonColor:s,dataModalCloseAttr:i,closeTop:r,closeRight:p,closeButtonPosition:u,popupWidth:c,accessibleDialogLabel:m,...g}=e,h=(0,f.applyFilters)("makeiteasy-closeButtonIcon",y),b=e=>"var:"===e?.substring(0,4)?`var(--wp--${e.substring(4).replaceAll("|","--")})`:e,v=o?(0,n.createElement)("button",{"aria-label":(0,d._x)("Close modal","Close button aria label","makeiteasy-popup"),className:"makeiteasy-popup-close",...i,style:{top:b(r),right:b(p),position:"beside"===u?"static":null}},(0,n.createElement)(h,{style:{fill:s}})):null;return(0,n.createElement)("div",{role:"dialog","aria-modal":a,"aria-label":m,...g,className:g.className+" makeiteasy-popup-wrapper",style:{...g.style,width:""===c||void 0===c?null:c}},(0,n.createElement)("div",{...t({className:"makeiteasy-popup-content-wrapper"})}),v)},k=(0,b.forwardRef)(((e,t)=>{const{innerProps:o,outerProps:a}=B(e,void 0,void 0,!1);return(0,n.createElement)("div",{...a,ref:t,style:{maxWidth:e.popupWidth?"100%":null}},(0,n.createElement)(v,{...o}))}));k.save=e=>{const{innerProps:t,outerProps:o,dataModalCloseAttr:a}=B(e,"makeiteasy-popup-outermost",void 0,!0),l=t.isFixed?null:a;return(0,n.createElement)("div",{"aria-hidden":"true",...o},(0,n.createElement)("div",{className:"makeiteasy-popup-overlay",tabIndex:"-1",...l},(0,n.createElement)(v,{...t})))};const C=k,B=({className:e,anchor:t,innerBlocks:o,isModal:a,isFixed:l,hasCloseButton:n,closeButtonColor:s,closeButtonPosition:i,closeTop:r,closeRight:p,style:u,popupWidth:c,accessibleDialogLabel:d,...m},g,h,y)=>{const b=e=>{const t=Array.isArray(e)?e.join(" "):e;return""!==t?t:null},f=e.split(" "),v=[],k=[];for(const e of f)"has-"===e.substring(0,4)||y&&"align"===e.substring(0,5)?k.push(e):v.push(e);h&&k.push(h),g&&v.push(g);const C=t?{["data-micromodal-close-"+t]:!0}:null;return{dataModalCloseAttr:C,outerProps:{...m,className:b(v),"aria-hidden":a?"true":null},innerProps:{className:b(k),innerBlocks:o,hasCloseButton:n,isModal:a,isFixed:l,closeButtonColor:s,closeButtonPosition:i,dataModalCloseAttr:C,style:u,closeTop:r,closeRight:p,popupWidth:c,accessibleDialogLabel:d}}},_=({openType:e,layoutType:t,modalityType:o,openSelector:a,openingTime:l,waitingAfterClosing:n,enabled:s,attachedBaseElement:i,fixedPopupPosition:r,closeButtonPosition:p,daysToShowAgain:u,refererURLMatch:c,popupWidthSameAsOpener:d},m=!0,g)=>({className:{"on timer":"open-on-timer","on scroll":"open-on-scroll","on click":"open-on-click","on hover":"open-on-hover","on referer":"open-on-referer"}[e]+" "+{floating:g?"":"popup-floating",fixed:"popup-floating popup-fixed",attached:"popup-attached"}[t]+" "+{modal:"popup-modal",modeless:"popup-modeless"}[o]+(m?"":" is-hidden")+(s?"":" disabled")+("fixed"===t?" position-"+r:"")+("above"===p?" has-above-close":""),"data-open-selector":a,"data-opening-time":l,"data-waiting-after-closing":n,"data-attached-base-element":i,"data-show-again-in":null!=u?u:0,"data-referer-url-to-match":c,"data-width-same-as-opener":d?"true":void 0}),w=({attributes:{openType:e,openSelector:t,layoutType:o,modalityType:a,attachedBaseElement:l,hasCloseButton:s,openingTime:i,waitingAfterClosing:r,enabled:p,closeButtonColor:u,closeButtonPosition:g,popupWidth:h,popupWidthSameAsOpener:y,fixedPopupPosition:f,daysToShowAgain:v,refererURLMatch:k,accessibleDialogLabel:C,align:B},setAttributes:_})=>{const w=(0,n.createElement)(c.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,d.__)("Popup is placed at:","makeiteasy-popup"),value:f,onChange:e=>_({fixedPopupPosition:e})},(0,n.createElement)(c.__experimentalToggleGroupControlOption,{label:(0,d.__)("Bottom","makeiteasy-popup"),value:"bottom"}),(0,n.createElement)(c.__experimentalToggleGroupControlOption,{label:(0,d.__)("Top","makeiteasy-popup"),value:"top"}),(0,n.createElement)(c.__experimentalToggleGroupControlOption,{label:(0,d.__)("Left","makeiteasy-popup"),value:"left"}),(0,n.createElement)(c.__experimentalToggleGroupControlOption,{label:(0,d.__)("Right","makeiteasy-popup"),value:"right"})),P=(0,n.createElement)(c.PanelRow,null,(0,n.createElement)(c.TextControl,{label:(0,d.__)("CSS selector"),help:(0,d.__)("Element to which this one is attached"),value:l,onChange:e=>_({attachedBaseElement:e})})),[E]=(0,m.useSettings)("spacing.units"),T=(0,c.__experimentalUseCustomUnits)({availableUnits:E||["%","px","em","rem","vw"]}),x=(0,b.useRef)(void 0);return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(m.InspectorControls,{group:"settings"},(0,n.createElement)(c.PanelBody,{title:(0,d.__)("Opening","makeiteasy-popup"),icon:"admin-settings",initialOpen:!0},(0,n.createElement)(c.PanelRow,null,(0,n.createElement)(c.RadioControl,{label:(0,d.__)("Opens on:","makeiteasy-popup"),help:(0,d.__)("What triggers opening.","makeiteasy-popup"),selected:e,options:[{label:(0,d.__)("On timer","makeiteasy-popup"),value:"on timer"},{label:(0,d.__)("On scroll","makeiteasy-popup"),value:"on scroll"},{label:(0,d.__)("On click","makeiteasy-popup"),value:"on click"},{label:(0,d.__)("On hover","makeiteasy-popup"),value:"on hover"},{label:(0,d.__)("On referer","makeiteasy-popup"),value:"on referer"}],onChange:e=>{_({openType:e}),"on hover"===e&&"modal"===a?(x.current=a,_({modalityType:"modeless"})):x.current&&(_({modalityType:x.current}),x.current=void 0)}})),["on click","on scroll","on hover"].includes(e)&&(0,n.createElement)(c.PanelRow,null,(0,n.createElement)(c.TextControl,{label:(0,d.__)("CSS selector","makeiteasy-popup"),help:(0,d.__)("CSS selector of element to open popup","makeiteasy-popup"),value:t,onChange:e=>_({openSelector:e})})),["on timer","on hover"].includes(e)&&(0,n.createElement)(c.PanelRow,null,(0,n.createElement)(c.__experimentalUnitControl,{onChange:t=>{_("on timer"===e?{openingTime:t}:{waitingAfterClosing:t})},label:"on timer"===e?(0,d.__)("Open after","makeiteasy-popup"):(0,d.__)("Time to open again","makeiteasy-popup"),help:"on hover"===e?"-1 to open only once.":"",value:"on timer"===e?i:r,units:"on timer"===e?[{a11yLabel:"Seconds",label:"s",step:1,value:"s"},{a11yLabel:"Milliseconds",label:"ms",step:100,value:"ms"}]:[{a11yLabel:"Seconds",label:"s",step:1,value:"s"}]})),"on referer"===e&&(0,n.createElement)(c.PanelRow,null,(0,n.createElement)(c.TextControl,{label:(0,d.__)("Open on referer URL match","makeiteasy-popup"),value:null!=k?k:"",onChange:e=>_({refererURLMatch:e}),help:(0,d.__)("Enter part of URL to match.","makeiteasy-popup")}))),(0,n.createElement)(c.PanelBody,{title:(0,d.__)("Layout","makeiteasy-popup"),icon:"admin-settings",initialOpen:!0},(0,n.createElement)(c.PanelRow,null,(0,n.createElement)(c.RadioControl,{label:(0,d.__)("Layout type","makeiteasy-popup"),selected:o,options:[{label:(0,d.__)("floating","makeiteasy-popup"),value:"floating"},{label:(0,d.__)("fixed","makeiteasy-popup"),value:"fixed"},{label:(0,d.__)("attached","makeiteasy-popup"),value:"attached"}],onChange:e=>{_({layoutType:e})}})),"fixed"===o&&w,"attached"===o&&P,(0,n.createElement)(c.PanelRow,{className:"mie-modality-type"},(0,n.createElement)(c.RadioControl,{label:(0,d.__)("Modality type","makeiteasy-popup"),selected:a,options:"on hover"!==e?[{label:(0,d.__)("modal","makeiteasy-popup"),value:"modal"},{label:(0,d.__)("modeless","makeiteasy-popup"),value:"modeless"}]:[{label:(0,d.__)("modeless","makeiteasy-popup"),value:"modeless"}],onChange:e=>{_({modalityType:e})}}),"on hover"===e&&(0,n.createElement)("p",null,"Due to accessibility issues, popup which activates on hover cannot be modal. Also, please follow good practices and do not convey any important information in it.",(0,n.createElement)("br",null),(0,n.createElement)(c.ExternalLink,{href:"https://www.w3.org/WAI/WCAG21/Understanding/content-on-hover-or-focus.html"},(0,d.__)("Content on Hover or Focus","makeiteasy-popup"))))),(0,n.createElement)(c.PanelBody,{title:(0,d.__)("Visibility","makeiteasy-popup"),icon:"admin-settings",initialOpen:!0},(0,n.createElement)(c.PanelRow,null,(0,n.createElement)(c.ToggleControl,{label:(0,d.__)("Has close button","makeiteasy-popup"),checked:s,onChange:e=>_({hasCloseButton:e})})),(0,n.createElement)(c.PanelRow,null,(0,n.createElement)(c.ToggleControl,{label:(0,d.__)("Popup is enabled","makeiteasy-popup"),checked:p,onChange:e=>_({enabled:e}),help:(0,d.__)("Disabled block is saved for later showing.","makeiteasy-popup"),title:(0,d.__)("If you disable block, it will not be shown, but you can keep it and enable it again sometimes.","makeiteasy-popup")}))),(0,n.createElement)(c.PanelBody,{title:(0,d.__)("Accessibility","makeiteasy-popup"),icon:"admin-settings",initialOpen:!1},(0,n.createElement)(c.PanelRow,null,(0,n.createElement)(c.TextControl,{label:(0,d.__)("Dialog accessible label","makeiteasy-popup"),value:null!=C?C:"",onChange:e=>_({accessibleDialogLabel:e})}))),(0,n.createElement)(c.PanelBody,{title:(0,d.__)("Additional rules","makeiteasy-popup"),icon:"admin-settings",initialOpen:!1},(0,n.createElement)(c.PanelRow,null,(0,n.createElement)(c.__experimentalNumberControl,{className:"makeiteasy-popup-days-to-show-again",label:(0,d.__)("Show again after days","makeiteasy-popup"),type:"number",onChange:e=>{_({daysToShowAgain:parseInt(e)})},value:v,help:(0,d.__)("Set to 0 to show each time","makeiteasy-popup"),pattern:"^\\d+$",required:!0})))),(0,n.createElement)(m.InspectorControls,{group:"styles"},(0,n.createElement)(c.PanelBody,{title:(0,d.__)("Close button appearance","makeiteasy-popup")},(0,n.createElement)(c.PanelRow,{className:"mie-span-2"},(0,n.createElement)(m.ColorPalette,{clearable:!0,enableAlpha:!0,value:u,onChange:e=>{_({closeButtonColor:e})}})),(0,n.createElement)(c.PanelRow,{className:"mie-span-2"},(0,n.createElement)(c.ToggleControl,{label:(0,d.__)("Button beside content","makeiteasy-popup"),checked:"beside"===g,onChange:e=>_({closeButtonPosition:e?"beside":"above"}),help:"above"===g?(0,d.__)("Close button floats above content to not affect content positioning."):(0,d.__)("Close button is to the right content, to avoid intersecting content"),title:(0,d.__)("If enabled, close button will be on the right side of content.")})))),(0,n.createElement)(m.InspectorControls,{group:"dimensions"},"attached"===o&&(0,n.createElement)(c.PanelRow,null,(0,n.createElement)(c.ToggleControl,{label:(0,d.__)("Same as opener","makeiteasy-popup"),checked:y,onChange:e=>_({popupWidthSameAsOpener:e}),help:(0,d.__)("Set width the same as opener element","makeiteasy-popup"),title:(0,d.__)("If you disable block, it will not be shown, but you can keep it and enable it again sometimes.","makeiteasy-popup")})),(0,n.createElement)(c.PanelRow,null,(0,n.createElement)(c.__experimentalUnitControl,{onChange:e=>{_({popupWidth:e}),e&&B&&_({align:void 0})},value:h||"Auto",__unstableInputWidth:"14ch",label:(0,d.__)("Popup width","makeiteasy-popup"),units:T,disabled:y}))))};let P=(e,t=21)=>(o=t)=>{let a="",l=o;for(;l--;)a+=e[Math.random()*e.length|0];return a};const E=(e,t,o)=>{const a=t=>{t.forEach((t=>{t.attributes.save_id===e&&t.clientId!==o?l=!0:t.innerBlocks&&a(t.innerBlocks)}))};let l=!1;return a(t),l},T=JSON.parse('{"UU":"makeiteasy/popup"}'),x=JSON.parse('{"supports":{"align":["wide","full"],"anchor":true,"background":{"backgroundImage":true,"backgroundPosition":"50% 50%","backgroundSize":true},"color":{"background":true,"text":true,"gradients":true,"enableContrastChecker":true,"button":true,"heading":true,"link":true},"dimensions":{"minHeight":true},"layout":{"default":{"type":"constrained"}},"shadow":true,"spacing":{"margin":true,"padding":true,"blockGap":true},"typography":{"fontSize":true,"lineHeight":true,"textAlign":true}},"attributes":{"openType":{"enum":["on timer","on scroll","on click","on hover"],"default":"on scroll"},"openSelector":{"type":"string"},"openingTime":{"type":"string","default":"5s"},"waitingAfterClosing":{"type":"string","default":"-1s"},"layoutType":{"enum":["floating","fixed","attached"],"default":"floating"},"modalityType":{"enum":["modal","modeless"],"default":"modal"},"attachedBaseElement":{"type":"string"},"fixedPopupPosition":{"enum":["top","bottom","left","right"],"default":"bottom"},"hasCloseButton":{"type":"boolean","default":true},"enabled":{"type":"boolean","default":true},"closeButtonColor":{"type":"string"},"closeButtonPosition":{"enum":["above","beside"],"default":"above"},"popupWidth":{"type":"string","default":null}},"selectors":{"root":".makeiteasy-popup-wrapper"}}'),A=e=>{const{innerBlocks:t,hasCloseButton:o,isModal:a,closeButtonColor:l,dataModalCloseAttr:s,closeTop:i,closeRight:r,closeButtonPosition:p,popupWidth:u,...c}=e,d=(0,f.applyFilters)("makeiteasy-closeButtonIcon",y),m=e=>"var:"===e?.substring(0,4)?`var(--wp--${e.substring(4).replaceAll("|","--")})`:e,g=o?(0,n.createElement)("button",{"aria-label":"Close modal",className:"makeiteasy-popup-close",...s,style:{top:m(i),right:m(r),position:"beside"===p?"static":null}},(0,n.createElement)(d,{style:{fill:l}})):null;return(0,n.createElement)("div",{role:"dialog","aria-modal":a,"aria-labelledby":"modal-1-title",...c,className:c.className+" makeiteasy-popup-wrapper",style:{...c.style,width:u}},(0,n.createElement)("div",{...t({className:"makeiteasy-popup-content-wrapper"})}),g)},S=(0,b.forwardRef)(((e,t)=>{const{innerProps:o,outerProps:a}=R(e,void 0,void 0,!1);return(0,n.createElement)("div",{...a,ref:t,style:{maxWidth:e.popupWidth?"100%":null}},(0,n.createElement)(A,{...o}))}));S.save=e=>{const{innerProps:t,outerProps:o,dataModalCloseAttr:a}=R(e,"makeiteasy-popup-outermost",void 0,!0);return(0,n.createElement)("div",{"aria-hidden":"true",...o},(0,n.createElement)("div",{className:"makeiteasy-popup-overlay",tabIndex:"-1",...a},(0,n.createElement)(A,{...t})))};const O=S,R=({className:e,anchor:t,innerBlocks:o,isModal:a,hasCloseButton:l,closeButtonColor:n,closeButtonPosition:s,closeTop:i,closeRight:r,style:p,popupWidth:u,...c},d,m,g)=>{const h=e=>{const t=Array.isArray(e)?e.join(" "):e;return""!==t?t:null},y=e.split(" "),b=[],f=[];for(const e of y)"has-"===e.substring(0,4)||g&&"align"===e.substring(0,5)?f.push(e):b.push(e);m&&f.push(m),d&&b.push(d);const v=t?{["data-micromodal-close-"+t]:!0}:null;return{dataModalCloseAttr:v,outerProps:{...c,className:h(b),"aria-hidden":a?"true":null},innerProps:{className:h(f),innerBlocks:o,hasCloseButton:l,isModal:a,closeButtonColor:n,closeButtonPosition:s,dataModalCloseAttr:v,style:p,closeTop:i,closeRight:r,popupWidth:u}}},M=({openType:e,layoutType:t,modalityType:o,openSelector:a,openingTime:l,waitingAfterClosing:n,enabled:s,attachedBaseElement:i,fixedPopupPosition:r,closeButtonPosition:p},u=!0,c)=>({className:{"on timer":"open-on-timer","on scroll":"open-on-scroll","on click":"open-on-click","on hover":"open-on-hover"}[e]+" "+{floating:c?"":"popup-floating",fixed:"popup-floating popup-fixed",attached:"popup-attached"}[t]+" "+{modal:"popup-modal",modeless:"popup-modeless"}[o]+(u?"":" is-hidden")+(s?"":" disabled")+("fixed"===t?" position-"+r:"")+("above"===p?" has-above-close":""),"data-open-selector":a,"data-opening-time":l,"data-waiting-after-closing":n,"data-attached-base-element":i});x.save=function({attributes:e,attributes:{anchor:t,hasCloseButton:o,modalityType:a,closeButtonColor:l,closeButtonPosition:s,style:{spacing:{padding:{top:i=null,right:r=null}={top:null,right:null}}={padding:{top:null,right:null}}}={spacing:{padding:{top:null,right:null}}},popupWidth:p}}){return(0,n.createElement)(O.save,{...m.useBlockProps.save(M(e)),isModal:"modal"===a,innerBlocks:m.useInnerBlocksProps.save,anchor:t,hasCloseButton:o,closeButtonColor:l,closeButtonPosition:s,closeTop:i,closeRight:r,popupWidth:p})};const N=x,W=JSON.parse('{"supports":{"align":["wide","full"],"anchor":true,"background":{"backgroundImage":true,"backgroundPosition":"50% 50%","backgroundSize":true},"color":{"background":true,"text":true,"gradients":true,"enableContrastChecker":true,"button":true,"heading":true,"link":true},"dimensions":{"minHeight":true},"layout":{"default":{"type":"constrained"}},"shadow":true,"spacing":{"margin":true,"padding":true,"blockGap":true},"typography":{"fontSize":true,"lineHeight":true,"textAlign":true}},"attributes":{"openType":{"enum":["on timer","on scroll","on click","on hover","on referer"],"default":"on scroll"},"openSelector":{"type":"string"},"openingTime":{"type":"string","default":"5s"},"waitingAfterClosing":{"type":"string","default":"-1s"},"layoutType":{"enum":["floating","fixed","attached"],"default":"floating"},"modalityType":{"enum":["modal","modeless"],"default":"modal"},"attachedBaseElement":{"type":"string"},"fixedPopupPosition":{"enum":["top","bottom","left","right"],"default":"bottom"},"hasCloseButton":{"type":"boolean","default":true},"enabled":{"type":"boolean","default":true},"closeButtonColor":{"type":"string"},"closeButtonPosition":{"enum":["above","beside"],"default":"above"},"popupWidth":{"type":"string","default":null},"accessibleDialogLabel":{"type":"string"},"daysToShowAgain":{"type":"number","default":0},"refererURLMatch":{"type":"string"}},"selectors":{"root":".makeiteasy-popup-wrapper"}}'),L=e=>{const{innerBlocks:t,hasCloseButton:o,isModal:a,closeButtonColor:l,dataModalCloseAttr:s,closeTop:i,closeRight:r,closeButtonPosition:p,popupWidth:u,accessibleDialogLabel:c,...d}=e,m=(0,f.applyFilters)("makeiteasy-closeButtonIcon",y),g=e=>"var:"===e?.substring(0,4)?`var(--wp--${e.substring(4).replaceAll("|","--")})`:e,h=o?(0,n.createElement)("button",{"aria-label":"Close modal",className:"makeiteasy-popup-close",...s,style:{top:g(i),right:g(r),position:"beside"===p?"static":null}},(0,n.createElement)(m,{style:{fill:l}})):null;return(0,n.createElement)("div",{role:"dialog","aria-modal":a,"aria-label":c,...d,className:d.className+" makeiteasy-popup-wrapper",style:{...d.style,width:u}},(0,n.createElement)("div",{...t({className:"makeiteasy-popup-content-wrapper"})}),h)},I=(0,b.forwardRef)(((e,t)=>{const{innerProps:o,outerProps:a}=F(e,void 0,void 0,!1);return(0,n.createElement)("div",{...a,ref:t,style:{maxWidth:e.popupWidth?"100%":null}},(0,n.createElement)(L,{...o}))}));I.save=e=>{const{innerProps:t,outerProps:o,dataModalCloseAttr:a}=F(e,"makeiteasy-popup-outermost",void 0,!0),l=t.isFixed?null:a;return(0,n.createElement)("div",{"aria-hidden":"true",...o},(0,n.createElement)("div",{className:"makeiteasy-popup-overlay",tabIndex:"-1",...l},(0,n.createElement)(L,{...t})))};const D=I,F=({className:e,anchor:t,innerBlocks:o,isModal:a,isFixed:l,hasCloseButton:n,closeButtonColor:s,closeButtonPosition:i,closeTop:r,closeRight:p,style:u,popupWidth:c,accessibleDialogLabel:d,...m},g,h,y)=>{const b=e=>{const t=Array.isArray(e)?e.join(" "):e;return""!==t?t:null},f=e.split(" "),v=[],k=[];for(const e of f)"has-"===e.substring(0,4)||y&&"align"===e.substring(0,5)?k.push(e):v.push(e);h&&k.push(h),g&&v.push(g);const C=t?{["data-micromodal-close-"+t]:!0}:null;return{dataModalCloseAttr:C,outerProps:{...m,className:b(v),"aria-hidden":a?"true":null},innerProps:{className:b(k),innerBlocks:o,hasCloseButton:n,isModal:a,isFixed:l,closeButtonColor:s,closeButtonPosition:i,dataModalCloseAttr:C,style:u,closeTop:r,closeRight:p,popupWidth:c,accessibleDialogLabel:d}}},U=({openType:e,layoutType:t,modalityType:o,openSelector:a,openingTime:l,waitingAfterClosing:n,enabled:s,attachedBaseElement:i,fixedPopupPosition:r,closeButtonPosition:p,daysToShowAgain:u,refererURLMatch:c},d=!0,m)=>({className:{"on timer":"open-on-timer","on scroll":"open-on-scroll","on click":"open-on-click","on hover":"open-on-hover","on referer":"open-on-referer"}[e]+" "+{floating:m?"":"popup-floating",fixed:"popup-floating popup-fixed",attached:"popup-attached"}[t]+" "+{modal:"popup-modal",modeless:"popup-modeless"}[o]+(d?"":" is-hidden")+(s?"":" disabled")+("fixed"===t?" position-"+r:"")+("above"===p?" has-above-close":""),"data-open-selector":a,"data-opening-time":l,"data-waiting-after-closing":n,"data-attached-base-element":i,"data-show-again-in":null!=u?u:0,"data-referer-url-to-match":c});W.save=function({attributes:e,attributes:{anchor:t,hasCloseButton:o,modalityType:a,layoutType:l,closeButtonColor:s,closeButtonPosition:i,style:{spacing:{padding:{top:r=null,right:p=null}={top:null,right:null}}={padding:{top:null,right:null}}}={spacing:{padding:{top:null,right:null}}},popupWidth:u,accessibleDialogLabel:c}}){return(0,n.createElement)(D.save,{...m.useBlockProps.save(U(e)),isModal:"modal"===a,isFixed:"fixed"===l,innerBlocks:m.useInnerBlocksProps.save,anchor:t,hasCloseButton:o,closeButtonColor:s,closeButtonPosition:i,closeTop:r,closeRight:p,popupWidth:u,accessibleDialogLabel:c})};const j=W,z=JSON.parse('{"supports":{"align":["wide","full"],"anchor":true,"background":{"backgroundImage":true,"backgroundPosition":"50% 50%","backgroundSize":true},"color":{"background":true,"text":true,"gradients":true,"enableContrastChecker":true,"button":true,"heading":true,"link":true},"dimensions":{"minHeight":true},"layout":{"default":{"type":"constrained"}},"shadow":true,"spacing":{"margin":true,"padding":true,"blockGap":true},"typography":{"fontSize":true,"lineHeight":true,"textAlign":true}},"attributes":{"openType":{"enum":["on timer","on scroll","on click","on hover","on referer"],"default":"on scroll"},"openSelector":{"type":"string"},"openingTime":{"type":"string","default":"5s"},"waitingAfterClosing":{"type":"string","default":"-1s"},"layoutType":{"enum":["floating","fixed","attached"],"default":"floating"},"modalityType":{"enum":["modal","modeless"],"default":"modal"},"attachedBaseElement":{"type":"string"},"fixedPopupPosition":{"enum":["top","bottom","left","right"],"default":"bottom"},"hasCloseButton":{"type":"boolean","default":true},"enabled":{"type":"boolean","default":true},"closeButtonColor":{"type":"string"},"closeButtonPosition":{"enum":["above","beside"],"default":"above"},"popupWidth":{"type":"string","default":null},"popupWidthSameAsOpener":{"type":"boolean","default":false},"accessibleDialogLabel":{"type":"string"},"daysToShowAgain":{"type":"number","default":0},"refererURLMatch":{"type":"string"}}}'),H=e=>{const{innerBlocks:t,hasCloseButton:o,isModal:a,isFixed:l,closeButtonColor:s,dataModalCloseAttr:i,closeTop:r,closeRight:p,closeButtonPosition:u,popupWidth:c,accessibleDialogLabel:d,...m}=e,g=(0,f.applyFilters)("makeiteasy-closeButtonIcon",y),h=e=>"var:"===e?.substring(0,4)?`var(--wp--${e.substring(4).replaceAll("|","--")})`:e,b=o?(0,n.createElement)("button",{"aria-label":"Close modal",className:"makeiteasy-popup-close",...i,style:{top:h(r),right:h(p),position:"beside"===u?"static":null}},(0,n.createElement)(g,{style:{fill:s}})):null;return(0,n.createElement)("div",{role:"dialog","aria-modal":a,"aria-label":d,...m,className:m.className+" makeiteasy-popup-wrapper",style:{...m.style,width:""===c||void 0===c?null:c}},(0,n.createElement)("div",{...t({className:"makeiteasy-popup-content-wrapper"})}),b)},G=(0,b.forwardRef)(((e,t)=>{const{innerProps:o,outerProps:a}=$(e,void 0,void 0,!1);return(0,n.createElement)("div",{...a,ref:t,style:{maxWidth:e.popupWidth?"100%":null}},(0,n.createElement)(H,{...o}))}));G.save=e=>{const{innerProps:t,outerProps:o,dataModalCloseAttr:a}=$(e,"makeiteasy-popup-outermost",void 0,!0),l=t.isFixed?null:a;return(0,n.createElement)("div",{"aria-hidden":"true",...o},(0,n.createElement)("div",{className:"makeiteasy-popup-overlay",tabIndex:"-1",...l},(0,n.createElement)(H,{...t})))};const q=G,$=({className:e,anchor:t,innerBlocks:o,isModal:a,isFixed:l,hasCloseButton:n,closeButtonColor:s,closeButtonPosition:i,closeTop:r,closeRight:p,style:u,popupWidth:c,accessibleDialogLabel:d,...m},g,h,y)=>{const b=e=>{const t=Array.isArray(e)?e.join(" "):e;return""!==t?t:null},f=e.split(" "),v=[],k=[];for(const e of f)"has-"===e.substring(0,4)||y&&"align"===e.substring(0,5)?k.push(e):v.push(e);h&&k.push(h),g&&v.push(g);const C=t?{["data-micromodal-close-"+t]:!0}:null;return{dataModalCloseAttr:C,outerProps:{...m,className:b(v),"aria-hidden":a?"true":null},innerProps:{className:b(k),innerBlocks:o,hasCloseButton:n,isModal:a,isFixed:l,closeButtonColor:s,closeButtonPosition:i,dataModalCloseAttr:C,style:u,closeTop:r,closeRight:p,popupWidth:c,accessibleDialogLabel:d}}},J=({openType:e,layoutType:t,modalityType:o,openSelector:a,openingTime:l,waitingAfterClosing:n,enabled:s,attachedBaseElement:i,fixedPopupPosition:r,closeButtonPosition:p,daysToShowAgain:u,refererURLMatch:c,popupWidthSameAsOpener:d},m=!0,g)=>({className:{"on timer":"open-on-timer","on scroll":"open-on-scroll","on click":"open-on-click","on hover":"open-on-hover","on referer":"open-on-referer"}[e]+" "+{floating:g?"":"popup-floating",fixed:"popup-floating popup-fixed",attached:"popup-attached"}[t]+" "+{modal:"popup-modal",modeless:"popup-modeless"}[o]+(m?"":" is-hidden")+(s?"":" disabled")+("fixed"===t?" position-"+r:"")+("above"===p?" has-above-close":""),"data-open-selector":a,"data-opening-time":l,"data-waiting-after-closing":n,"data-attached-base-element":i,"data-show-again-in":null!=u?u:0,"data-referer-url-to-match":c,"data-width-same-as-opener":d?"true":void 0});z.save=function({attributes:e,attributes:{anchor:t,hasCloseButton:o,modalityType:a,layoutType:l,closeButtonColor:s,closeButtonPosition:i,style:{spacing:{padding:{top:r=null,right:p=null}={top:null,right:null}}={padding:{top:null,right:null}}}={spacing:{padding:{top:null,right:null}}},popupWidth:u,accessibleDialogLabel:c}}){return(0,n.createElement)(q.save,{...m.useBlockProps.save(J(e)),isModal:"modal"===a,isFixed:"fixed"===l,innerBlocks:m.useInnerBlocksProps.save,anchor:t,hasCloseButton:o,closeButtonColor:s,closeButtonPosition:i,closeTop:r,closeRight:p,popupWidth:u,accessibleDialogLabel:c})};const V=z;(0,e.registerBlockType)(T.UU,{edit:function({attributes:e,attributes:{openType:o,hasCloseButton:a,anchor:s,closeButtonColor:i,closeButtonPosition:r,style:{spacing:{padding:{top:p=null,right:u=null}={top:null,right:null}}={padding:{top:null,right:null}}}={spacing:{padding:{top:null,right:null}}},popupWidth:c,align:d,accessibleDialogLabel:g},setAttributes:h,clientId:y,modalityType:f,layoutType:v}){const k=(0,t.useSelect)((e=>e("core/block-editor").getBlocks())),B=(0,t.useSelect)((e=>e(l).getPopupsOpen()));return(0,b.useEffect)((()=>{if(!s||E(s,k,y)){const e=((e,t)=>{let o;do{o=P("0123456789abcdefghijklmnopqrstuvwxyz",10)()}while(E(o,e,t));return o})(k,y);h({anchor:e})}}),[]),(0,b.useEffect)((()=>{d&&c&&h({popupWidth:void 0})}),[d]),(0,b.useEffect)((()=>{"on hover"===o&&"modal"===f&&h({modalityType:"modeless"})}),[]),(0,n.createElement)(n.Fragment,null,(0,n.createElement)(w,{attributes:e,setAttributes:h,openType:o}),(0,n.createElement)(C,{...(0,m.useBlockProps)(_(e,B,!0)),isModal:"modal"===f,isFixed:"fixed"===v,innerBlocks:m.useInnerBlocksProps,anchor:s,hasCloseButton:a,closeButtonColor:i,closeButtonPosition:r,closeTop:p,closeRight:u,popupWidth:c,accessibleDialogLabel:g}))},save:function({attributes:e,attributes:{anchor:t,hasCloseButton:o,modalityType:a,layoutType:l,closeButtonColor:s,closeButtonPosition:i,style:{spacing:{padding:{top:r=null,right:p=null}={top:null,right:null}}={padding:{top:null,right:null}}}={spacing:{padding:{top:null,right:null}}},popupWidth:u,accessibleDialogLabel:c}}){return(0,n.createElement)(C.save,{...m.useBlockProps.save(_(e)),isModal:"modal"===a,isFixed:"fixed"===l,innerBlocks:m.useInnerBlocksProps.save,anchor:t,hasCloseButton:o,closeButtonColor:s,closeButtonPosition:i,closeTop:r,closeRight:p,popupWidth:u,accessibleDialogLabel:c})},deprecated:[{attributes:N.attributes,supports:N.supports,save:N.save},{attributes:j.attributes,supports:j.supports,save:j.save},{attributes:V.attributes,supports:V.supports,save:V.save}],icon:u})}},o={};function a(e){var l=o[e];if(void 0!==l)return l.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,a),n.exports}a.m=t,e=[],a.O=(t,o,l,n)=>{if(!o){var s=1/0;for(u=0;u<e.length;u++){o=e[u][0],l=e[u][1],n=e[u][2];for(var i=!0,r=0;r<o.length;r++)(!1&n||s>=n)&&Object.keys(a.O).every((e=>a.O[e](o[r])))?o.splice(r--,1):(i=!1,n<s&&(s=n));if(i){e.splice(u--,1);var p=l();void 0!==p&&(t=p)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,l,n]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};a.O.j=t=>0===e[t];var t=(t,o)=>{var l,n,s=o[0],i=o[1],r=o[2],p=0;if(s.some((t=>0!==e[t]))){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(r)var u=r(a)}for(t&&t(o);p<s.length;p++)n=s[p],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},o=self.webpackChunkmakeiteasy_popup=self.webpackChunkmakeiteasy_popup||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=a.O(void 0,[350],(()=>a(331)));l=a.O(l)})();